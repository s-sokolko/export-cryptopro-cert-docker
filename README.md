# export-cryptopro-cert-docker
Исходные коды для сборки контейнера утилиты экспорта сертификата электронной подписи (ЭП) по ГОСТ из ПО КриптоПРО CSP (версии 4).
Поддерживаются алгоритмы ГОСТ Р 34.10-2001 и ГОСТ Р 34.10-2012 (128 и 256 бит).

Ссылка на репозиторий самой утилиты https://github.com/kov-serg/get-cpcert  

Ссылка на docker-образ с установленной утилитой, готовой к использованию https://hub.docker.com/r/sokolko/export-cryptopro-cert  

Для извлечения ключа, нужно вначале скопировать контейнер на съемный диск. Полученную директорию нужно скопировать на компьюте с устанолвенным docker.
После этого скачиваем docker-образ с установленной утилитой на компьютер.
Затем нужно в командной строке, находясь в каталоге, где непосредственно расположена директория с контейнером, дать команду экспорта через контейнер docker. 
Скачивание контейнера и экспорт показаны в примере коносльных команд ниже:

```console
sudo docker pull sokolko/export-cryptopro-cert
sudo docker run --rm -v $PWD:/data sokolko/export-cryptopro-cert CONTAINER.000 123
```

Где **CONTAINER.000** - имя директории с контейнером (набор файлов key Крипто ПРО), **123** - ПИН-код контейнера.

Сертификат и ключ будут выведены в PEM-формате в STDOUT. Их впоследствиии можно сохранить или перенаправить вывод в файл.

Огромная благодарность автору утилиты. Она успешно извлекает как сертификат, так и приватный ключ из любого контейнера Крипто ПРО.
